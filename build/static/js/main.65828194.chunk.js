(this.webpackJsonpsnappycamper=this.webpackJsonpsnappycamper||[]).push([[0],{214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},221:function(e,t){e.exports={API_KEY:"GN9aJrr7cQHPjZGNWOjl5WgNM5Mtdu2AZRpcyb5R",BASE_URL:"https://developer.nps.gov/api/v1"}},233:function(e,t){},235:function(e,t){},244:function(e,t){},246:function(e,t){},274:function(e,t){},276:function(e,t){},277:function(e,t){},282:function(e,t){},284:function(e,t){},303:function(e,t){},315:function(e,t){},318:function(e,t){},366:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(197),a=(n(212),n(213),n(214),n(6)),s=n(13),i=n(14),o=n(59),l=Object(r.createContext)({}),u=function(e,t){var n=Object(r.useState)((function(){return window.localStorage.getItem(e)||t})),c=Object(i.a)(n,2),a=c[0],s=c[1];return Object(r.useEffect)((function(){window.localStorage.setItem(e,a)}),[e,a]),[a,s]},j=(n(215),n(8)),d=(n(216),n(2));var b=function(){var e=Object(r.useContext)(l).currentUser;return Object(d.jsxs)(j.b,{background:"dark",className:"text-white",style:{left:"20%",width:"700px"},children:[Object(d.jsx)(j.d,{overlay:!0,src:"https://mdbootstrap.com/img/new/slides/017.webp",alt:"..."}),Object(d.jsxs)(j.f,{children:[Object(d.jsx)(j.h,{children:"Welcome To Snappy Camper"}),Object(d.jsx)(j.g,{children:"Strap up your bootstraps"}),e?Object(d.jsxs)(d.Fragment,{children:["  ",Object(d.jsxs)(j.g,{children:["Logged in as: ",e.fullname]})]}):null,Object(d.jsx)(j.a,{className:"signup-btn",size:"lg",style:{margin:"20px"},href:"/signup",children:"Signup "}),Object(d.jsx)("br",{}),e?null:Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(j.a,{className:"login-btn",size:"md",rounded:!0,color:"info",style:{margin:"20px"},href:"/login",children:"Login"})})]})]})},p=n(16),h=n(24),O=n(40),x=n(221);var f=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(2),u=Object(i.a)(o,2),b=(u[0],u[1]),p=Object(r.useContext)(l).currentUser;function f(e){try{h.a.get("".concat(x.BASE_URL,"/campgrounds"),{params:{api_key:x.API_KEY,limit:e}}).then((function(e){var t=e.data.data;c(t),console.log(t)}))}catch(t){t.preventDefault(),console.log("Axios Error",t)}}function v(e){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(Object(a.a)().mark((function e(t){var r,c,s,i,o,l,u,j;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=t.target.dataset.value,c=n[r],s=c.parkCode,i=c.name,o=c.fees[0]?+c.fees[0].cost:0,l=c.images[0]?c.images[0].url:"../No_Image_Available.jpg",u=p?p.id:null,j={parkName:i,parkCode:s,cost:o,image_url:l},O.default.addCamp(j).then((function(e){console.log("Add Response",e);var n=e[1]?+e[1]:e.data.camp.id;O.default.reserve(u,n).then((function(e){console.log("Reserve Response:",e),t.target.innerHTML="Added to your favorites list!",t.target.disabled=!0}))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var t=e.target,r=t.checked,a=t.name;r&&"cell"===a&&c(n.filter((function(e){return e.amenities.cellPhoneReception&&!e.amenities.cellPhoneReception.includes("No")})).map((function(e){return e}))),r&&"toilets"===a&&c(n.filter((function(e){return e.amenities.toilets[0]&&!e.amenities.toilets[0].includes("No")})).map((function(e){return e}))),r&&"rv"===a?c(n.filter((function(e){return+e.accessibility.rvAllowed})).map((function(e){return e}))):r||f(),console.log("You selected "+"".concat(a)+r)}return Object(r.useEffect)((function(){function e(){return(e=Object(s.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===n.length)try{f()}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(d.jsxs)("div",{style:{width:"99%",border:"3px solid black",background:"antiquewhite"},children:[Object(d.jsx)("h1",{children:"Camp List"}),Object(d.jsxs)("div",{className:"container",style:{border:"3px solid black",width:"fit-content"},children:[Object(d.jsx)("input",{name:"toilets",type:"checkbox",onChange:g}),Object(d.jsx)("label",{htmlFor:"toilets",children:"Toilets"}),Object(d.jsx)("input",{name:"rv",type:"checkbox",onChange:g}),Object(d.jsx)("label",{htmlFor:"rv",children:"RV Access"}),Object(d.jsx)("input",{name:"cell",type:"checkbox",onChange:g}),Object(d.jsx)("label",{htmlFor:"cell",children:"Cell Signal"}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"limit",children:"Number of camps to populate between 0 and 50"}),Object(d.jsx)("input",{name:"limit",type:"number",min:"0",max:"50",placeholder:"25",onChange:function(e){var t=e.target,n=t.value;t.name,setTimeout((function(){console.log(n),b(n),f(n)}),1e3)}})]}),Object(d.jsx)("div",{className:"d-flex row-cols-md-3   flex-wrap",style:{marginRight:"50px"},children:n.map((function(e,t){return Object(d.jsx)(j.j,{children:Object(d.jsxs)(j.b,{className:"p-2 flex-fill ",children:[e.images[0]?Object(d.jsx)(j.d,{src:e.images[0].url,alt:"...",position:"top"}):Object(d.jsx)(j.d,{src:"../No_Image_Available.jpg",alt:"...",position:"top"}),Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.h,{children:e.name}),Object(d.jsx)(j.g,{children:e.description}),Object(d.jsxs)(j.p,{children:[Object(d.jsxs)(j.q,{children:[Object(d.jsx)("b",{children:"Toilet:"})," ",e.amenities.toilets[0]]}),Object(d.jsxs)(j.q,{children:[Object(d.jsx)("b",{children:"Cell Signal:"})," ",e.amenities.cellPhoneReception]}),Object(d.jsxs)(j.q,{children:["Cost:"," ",e.fees.map((function(e){return Object(d.jsxs)("h6",{children:[Object(d.jsxs)("b",{children:["$",e.cost]})," - ",e.description]})}))]}),+e.accessibility.rvAllowed?Object(d.jsx)(j.q,{children:Object(d.jsx)("b",{children:"RV's are allowed!"})}):Object(d.jsx)(j.q,{children:Object(d.jsxs)("b",{children:["RV's are ",Object(d.jsx)("i",{children:"NOT"})," allowed!"]})})]})]}),Object(d.jsx)(j.e,{href:e.reservationUrl,children:"Camp reservation page"}),Object(d.jsx)("br",{}),Object(d.jsx)(j.e,{"data-value":t,onClick:v,className:"btn ".concat(null===p||p.camps&&p.camps.some((function(t){return t.parkname===e.name}))?"btn-danger disabled":"btn-primary"),children:'"Add to Favorites"'})]})},e.id)}))})]})},v=n(7),m=n(96),g=n(131),w=function(e){var t=Object(r.useState)(e),n=Object(i.a)(t,2),c=n[0],a=n[1];return[c,function(e){e.preventDefault();var t=e.target,n=t.value,r=t.name;a((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(m.a)({},r,n))}))},function(){a(e)}]};var y=function(e){var t=e.login,n=Object(p.g)(),r=w({username:"",password:""}),c=Object(i.a)(r,2),o=c[0],l=c[1],u=function(){var e=Object(s.a)(Object(a.a)().mark((function e(r){var c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),console.log("Form data",o),e.next=4,t(o);case 4:c=e.sent,console.log("Login result",c),c||alert("Couldn't login successfully"),n.push("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container",style:{margin:"40px",width:"50rem",background:"aliceblue",outline:"5px solid aliceblue"},children:[Object(d.jsx)("h3",{className:"form-h3 home-title",children:"This is the login page"}),Object(d.jsxs)(v.e,{onSubmit:u,children:[Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{className:"text-center",for:"Username",children:"Username"}),Object(d.jsx)(v.g,{type:"username",name:"username",id:"username",placeholder:"Enter your username",onChange:l})]}),Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{className:"text-center",for:"password",children:"Password"}),Object(d.jsx)(v.g,{type:"password",name:"password",id:"password",placeholder:"enter your secret password",onChange:l})]}),Object(d.jsx)(v.a,{type:"submit",children:"Log in right now!"})]})]})},k=function(e){var t=e.signUp,n=Object(p.g)(),r=w({username:"",password:"",fullName:"",state:""}),c=Object(i.a)(r,2),o=c[0],l=c[1],u=function(){var e=Object(s.a)(Object(a.a)().mark((function e(r){var c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),""===o.state&&(o.state="CA"),e.next=5,t(o);case 5:c=e.sent,console.log("Form Data:",o),console.log("Signup submitted",c),c||alert("Couldn't create new user"),n.push("/");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container",style:{margin:"40px",width:"50rem",background:"aliceblue",outline:"5px solid aliceblue"},children:[Object(d.jsx)("h3",{className:"form-h3 home-title",children:"This is the SignUp Page!"}),Object(d.jsxs)(v.e,{onSubmit:u,children:[Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{for:"username",children:"Username"}),Object(d.jsx)(v.g,{id:"username",name:"username",placeholder:"Enter username",type:"username",onChange:l})]}),Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{for:"password",children:"Password"}),Object(d.jsx)(v.g,{id:"password",name:"password",placeholder:"enter password",type:"password",onChange:l})]}),Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{for:"fullName",children:"Full Name"}),Object(d.jsx)(v.g,{id:"fullName",name:"fullName",placeholder:"enter Full Name",type:"text",onChange:l})]}),Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{for:"state",children:"State"}),Object(d.jsxs)(v.g,{id:"state",name:"state",placeholder:"enter state",type:"select",onChange:l,autoFocus:!0,children:[Object(d.jsx)("option",{value:"AL",children:"Alabama"}),Object(d.jsx)("option",{value:"AK",children:"Alaska"}),Object(d.jsx)("option",{value:"AZ",children:"Arizona"}),Object(d.jsx)("option",{value:"AR",children:"Arkansas"}),Object(d.jsx)("option",{value:"CA",children:"California"}),Object(d.jsx)("option",{value:"CO",children:"Colorado"}),Object(d.jsx)("option",{value:"CT",children:"Connecticut"}),Object(d.jsx)("option",{value:"DE",children:"Delaware"}),Object(d.jsx)("option",{value:"DC",children:"District Of Columbia"}),Object(d.jsx)("option",{value:"FL",children:"Florida"}),Object(d.jsx)("option",{value:"GA",children:"Georgia"}),Object(d.jsx)("option",{value:"HI",children:"Hawaii"}),Object(d.jsx)("option",{value:"ID",children:"Idaho"}),Object(d.jsx)("option",{value:"IL",children:"Illinois"}),Object(d.jsx)("option",{value:"IN",children:"Indiana"}),Object(d.jsx)("option",{value:"IA",children:"Iowa"}),Object(d.jsx)("option",{value:"KS",children:"Kansas"}),Object(d.jsx)("option",{value:"KY",children:"Kentucky"}),Object(d.jsx)("option",{value:"LA",children:"Louisiana"}),Object(d.jsx)("option",{value:"ME",children:"Maine"}),Object(d.jsx)("option",{value:"MD",children:"Maryland"}),Object(d.jsx)("option",{value:"MA",children:"Massachusetts"}),Object(d.jsx)("option",{value:"MI",children:"Michigan"}),Object(d.jsx)("option",{value:"MN",children:"Minnesota"}),Object(d.jsx)("option",{value:"MS",children:"Mississippi"}),Object(d.jsx)("option",{value:"MO",children:"Missouri"}),Object(d.jsx)("option",{value:"MT",children:"Montana"}),Object(d.jsx)("option",{value:"NE",children:"Nebraska"}),Object(d.jsx)("option",{value:"NV",children:"Nevada"}),Object(d.jsx)("option",{value:"NH",children:"New Hampshire"}),Object(d.jsx)("option",{value:"NJ",children:"New Jersey"}),Object(d.jsx)("option",{value:"NM",children:"New Mexico"}),Object(d.jsx)("option",{value:"NY",children:"New York"}),Object(d.jsx)("option",{value:"NC",children:"North Carolina"}),Object(d.jsx)("option",{value:"ND",children:"North Dakota"}),Object(d.jsx)("option",{value:"OH",children:"Ohio"}),Object(d.jsx)("option",{value:"OK",children:"Oklahoma"}),Object(d.jsx)("option",{value:"OR",children:"Oregon"}),Object(d.jsx)("option",{value:"PA",children:"Pennsylvania"}),Object(d.jsx)("option",{value:"RI",children:"Rhode Island"}),Object(d.jsx)("option",{value:"SC",children:"South Carolina"}),Object(d.jsx)("option",{value:"SD",children:"South Dakota"}),Object(d.jsx)("option",{value:"TN",children:"Tennessee"}),Object(d.jsx)("option",{value:"TX",children:"Texas"}),Object(d.jsx)("option",{value:"UT",children:"Utah"}),Object(d.jsx)("option",{value:"VT",children:"Vermont"}),Object(d.jsx)("option",{value:"VA",children:"Virginia"}),Object(d.jsx)("option",{value:"WA",children:"Washington"}),Object(d.jsx)("option",{value:"WV",children:"West Virginia"}),Object(d.jsx)("option",{value:"WI",children:"Wisconsin"}),Object(d.jsx)("option",{value:"WY",children:"Wyoming"})]})]}),Object(d.jsx)(v.a,{type:"submit",children:"Submit"})]})]})},N=n(40),C=function(){var e=Object(r.useContext)(l),t=e.currentUser,n=(e.updateUser,Object(p.g)()),c=w({username:t.username,fullName:t.fullName,state:t.state,password:""}),o=Object(i.a)(c,2),u=o[0],j=o[1],b=function(){var e=Object(s.a)(Object(a.a)().mark((function e(r){var c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),""===u.state&&(u.state="CA"),console.log("Submit Data:",u),e.next=6,N.updateUserInfo(t.username,u);case 6:(c=e.sent)||alert("Couldn't update user"),console.log("Response from Submission",c.data),n.push("/profile");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container",style:{margin:"20px",width:"86%",background:"aliceblue",outline:"5px solid aliceblue"},children:["    ",Object(d.jsx)("h3",{className:"form-h3 home-title",children:"Update User Page"}),Object(d.jsxs)(v.e,{onSubmit:b,children:[Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{for:"username",children:"Username"}),Object(d.jsx)(v.g,{type:"text",name:"username",id:"username",placeholder:"enter Username",onChange:j})]}),Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{for:"fullName",children:"Full Name"}),Object(d.jsx)(v.g,{type:"text",name:"fullName",id:"fullName",placeholder:"enter Full Name",onChange:j})]}),Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{for:"state",children:"state"}),Object(d.jsxs)(v.g,{id:"state",name:"state",placeholder:"enter state",type:"select",onChange:j,autoFocus:!0,children:[Object(d.jsx)("option",{value:"AL",children:"Alabama"}),Object(d.jsx)("option",{value:"AK",children:"Alaska"}),Object(d.jsx)("option",{value:"AZ",children:"Arizona"}),Object(d.jsx)("option",{value:"AR",children:"Arkansas"}),Object(d.jsx)("option",{value:"CA",children:"California"}),Object(d.jsx)("option",{value:"CO",children:"Colorado"}),Object(d.jsx)("option",{value:"CT",children:"Connecticut"}),Object(d.jsx)("option",{value:"DE",children:"Delaware"}),Object(d.jsx)("option",{value:"DC",children:"District Of Columbia"}),Object(d.jsx)("option",{value:"FL",children:"Florida"}),Object(d.jsx)("option",{value:"GA",children:"Georgia"}),Object(d.jsx)("option",{value:"HI",children:"Hawaii"}),Object(d.jsx)("option",{value:"ID",children:"Idaho"}),Object(d.jsx)("option",{value:"IL",children:"Illinois"}),Object(d.jsx)("option",{value:"IN",children:"Indiana"}),Object(d.jsx)("option",{value:"IA",children:"Iowa"}),Object(d.jsx)("option",{value:"KS",children:"Kansas"}),Object(d.jsx)("option",{value:"KY",children:"Kentucky"}),Object(d.jsx)("option",{value:"LA",children:"Louisiana"}),Object(d.jsx)("option",{value:"ME",children:"Maine"}),Object(d.jsx)("option",{value:"MD",children:"Maryland"}),Object(d.jsx)("option",{value:"MA",children:"Massachusetts"}),Object(d.jsx)("option",{value:"MI",children:"Michigan"}),Object(d.jsx)("option",{value:"MN",children:"Minnesota"}),Object(d.jsx)("option",{value:"MS",children:"Mississippi"}),Object(d.jsx)("option",{value:"MO",children:"Missouri"}),Object(d.jsx)("option",{value:"MT",children:"Montana"}),Object(d.jsx)("option",{value:"NE",children:"Nebraska"}),Object(d.jsx)("option",{value:"NV",children:"Nevada"}),Object(d.jsx)("option",{value:"NH",children:"New Hampshire"}),Object(d.jsx)("option",{value:"NJ",children:"New Jersey"}),Object(d.jsx)("option",{value:"NM",children:"New Mexico"}),Object(d.jsx)("option",{value:"NY",children:"New York"}),Object(d.jsx)("option",{value:"NC",children:"North Carolina"}),Object(d.jsx)("option",{value:"ND",children:"North Dakota"}),Object(d.jsx)("option",{value:"OH",children:"Ohio"}),Object(d.jsx)("option",{value:"OK",children:"Oklahoma"}),Object(d.jsx)("option",{value:"OR",children:"Oregon"}),Object(d.jsx)("option",{value:"PA",children:"Pennsylvania"}),Object(d.jsx)("option",{value:"RI",children:"Rhode Island"}),Object(d.jsx)("option",{value:"SC",children:"South Carolina"}),Object(d.jsx)("option",{value:"SD",children:"South Dakota"}),Object(d.jsx)("option",{value:"TN",children:"Tennessee"}),Object(d.jsx)("option",{value:"TX",children:"Texas"}),Object(d.jsx)("option",{value:"UT",children:"Utah"}),Object(d.jsx)("option",{value:"VT",children:"Vermont"}),Object(d.jsx)("option",{value:"VA",children:"Virginia"}),Object(d.jsx)("option",{value:"WA",children:"Washington"}),Object(d.jsx)("option",{value:"WV",children:"West Virginia"}),Object(d.jsx)("option",{value:"WI",children:"Wisconsin"}),Object(d.jsx)("option",{value:"WY",children:"Wyoming"})]})]}),Object(d.jsxs)(v.f,{children:[Object(d.jsx)(v.h,{for:"password",children:"Password"}),Object(d.jsx)(v.g,{type:"password",name:"password",id:"password",placeholder:"enter password",onChange:j})]}),Object(d.jsx)(v.a,{type:"submit",children:"Update User!"})]})]})};var A=function(e){var t=e.removeReservation,n=Object(r.useContext)(l).currentUser,c=Object(r.useState)(null),o=Object(i.a)(c,2),u=o[0],j=o[1],b=function(){var e=Object(s.a)(Object(a.a)().mark((function e(n,r){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Handle delete",n,r),e.next=3,t(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(s.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&j(Object(d.jsxs)(v.b,{style:{position:"absolute",top:"10%",left:"0%",width:"20%"},children:[Object(d.jsxs)(v.c,{children:[Object(d.jsxs)(v.d,{className:"font-weight-bold text-center",children:[n.fullname,"'s Profile"]}),Object(d.jsxs)(v.i,{children:[Object(d.jsxs)(v.j,{children:["Username: ",n.username]})," ",Object(d.jsxs)(v.j,{children:["Full Name: ",n.fullname]}),"Home State: ",n.state," ",n.isAdmin?Object(d.jsx)(v.j,{children:"Admin Status: I'm an Admin"}):Object(d.jsx)(v.j,{children:"Admin Status: I'm not an Admin"})]})]}),Object(d.jsx)(C,{})]}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(d.jsxs)("div",{style:{width:"100%"},children:[Object(d.jsxs)("h1",{children:[n.fullname,"'s Profile"]}),Object(d.jsxs)("div",{className:"d-inline-flex flex-column flex-fill border border-primary",children:[u,"    ",Object(d.jsx)("h3",{children:Object(d.jsx)("u",{children:"Reserved campgrounds"})}),n.camps?n.camps.map((function(e){return Object(d.jsxs)("div",{className:"d-inline-flex",style:{marginBottom:"10px",marginLeft:"20px"},children:[Object(d.jsxs)("button",{className:"p-2 row btn btn-outline-info",children:[e.parkname," Details"]}),Object(d.jsx)("button",{className:"btn btn-danger",onClick:function(){return b(e.user_id,e.camp_id)},style:{marginLeft:"20px",marginRight:"10px"},children:"Delete"})]})})):null]})]})};var I=function(e){var t=e.login,n=e.signUp,r=e.removeReservation;return Object(d.jsx)("div",{children:Object(d.jsxs)(p.d,{children:[Object(d.jsx)(p.b,{exact:!0,path:"/",children:Object(d.jsx)(b,{})}),Object(d.jsx)(p.b,{exact:!0,path:"/camplist",children:Object(d.jsx)(f,{})}),Object(d.jsx)(p.b,{exact:!0,path:"/profile",children:Object(d.jsx)(A,{removeReservation:r})}),Object(d.jsx)(p.b,{exact:!0,path:"/login",children:Object(d.jsx)(y,{login:t})}),Object(d.jsx)(p.b,{exact:!0,path:"/signup",children:Object(d.jsx)(k,{signUp:n})}),Object(d.jsx)(p.b,{exact:!0,path:"/profile",children:Object(d.jsx)(A,{})}),Object(d.jsx)(p.a,{to:"/"})]})})};function S(e){var t=e.logout,n=Object(r.useState)(!1),c=Object(i.a)(n,2),a=c[0],s=c[1],o=Object(r.useContext)(l).currentUser;return Object(d.jsx)(j.r,{expand:"lg",light:!0,bgColor:"light",children:Object(d.jsxs)(j.j,{fluid:!0,children:[Object(d.jsx)(j.v,{type:"button","data-target":"#navbarCenteredExample","aria-controls":"navbarCenteredExample","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return s(!a)},children:Object(d.jsx)(j.o,{icon:"bars",fas:!0})}),Object(d.jsx)(j.i,{navbar:!0,show:a,id:"navbarCenteredExample",children:Object(d.jsxs)(j.u,{fullWidth:!0,className:"mb-2 mb-lg-0",children:[Object(d.jsx)(j.s,{children:Object(d.jsx)(j.t,{active:!0,"aria-current":"page",href:"/",children:"Home"})}),Object(d.jsx)(j.s,{children:Object(d.jsx)(j.t,{href:"/profile",children:"Profile"})}),Object(d.jsx)(j.s,{children:Object(d.jsxs)(j.k,{children:[Object(d.jsx)(j.n,{tag:"a",className:"nav-link",children:"Menu"}),Object(d.jsxs)(j.m,{children:[Object(d.jsx)(j.l,{link:!0,href:"/camplist",children:"Camp List"}),o?Object(d.jsx)(j.l,{link:!0,href:"/profile",children:"Profile"}):null]})]})}),o?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(j.s,{children:Object(d.jsx)(j.t,{href:"/",onClick:t,children:"Logout"})})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j.s,{children:Object(d.jsx)(j.t,{href:"/signup",children:"Signup"})}),Object(d.jsx)(j.s,{children:Object(d.jsx)(j.t,{href:"/login",children:"Login"})})]})]})})]})})}var M=n(229);var D=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],j=u("token",""),b=Object(i.a)(j,2),p=b[0],h=b[1],x=Object(r.useState)(null),f=Object(i.a)(x,2),v=f[0],m=f[1];if(console.debug("User is:",v,"Token is:",p),console.debug("Page Loaded:",n),Object(r.useEffect)((function(){function e(){return(e=Object(s.a)(Object(a.a)().mark((function e(){var t,n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("null"===p){e.next=14;break}return e.prev=1,O.default.token=p,console.log("Loaded Main DOM"),t=M.decode(p),n=t.username,e.next=7,O.default.getCurrentUser(n);case 7:r=e.sent,m(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("No token. See Error:",e.t0);case 14:c(!0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p]),!n)return Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"loading",children:"Loading...Please Wait"}),Object(d.jsx)("div",{className:"spinner-grow",role:"status"})]});var g=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("LoginData",t),e.next=4,O.default.login(t);case 4:return n=e.sent,console.log("Inside Login. Token:",n.data.token),h(n.data.token),e.abrupt("return",n.data.token);case 10:e.prev=10,e.t0=e.catch(0),console.error("Login failed",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.default.register(t);case 3:return n=e.sent,console.log("Inside register function",n),h(n),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.error("Signup failed",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.default.removeReservation(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(o.a,{children:Object(d.jsxs)(l.Provider,{value:{currentUser:v,setCurrentUser:m},children:[Object(d.jsx)(S,{logout:function(e){e.preventDefault(),m(null),h(null)}}),Object(d.jsx)(I,{login:g,signUp:w,removeReservation:y})]})})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,371)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};Object(c.createRoot)(document.getElementById("root")).render(Object(d.jsx)(D,{})),U()},40:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n(13),a=n(42),s=n(43),i=n(135).default,o=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"request",value:function(){var t=Object(c.a)(Object(r.a)().mark((function t(n){var c,a,s,o,l,u,j=arguments;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=j.length>1&&void 0!==j[1]?j[1]:{},a=j.length>2&&void 0!==j[2]?j[2]:"get","https://snappycamper.herokuapp.com",console.debug("API Call:",n,c,a),s="".concat("https://snappycamper.herokuapp.com","/").concat(n),o={authorization:"Bearer ".concat(e.token)},l="get"===a?c:{},console.log("URL","".concat(s)),console.log("Data",c),console.debug("Params",l),console.log("Headers",o),t.prev=11,console.log("Trying..."),t.next=15,i({url:s,method:a,data:c,params:l,headers:o});case 15:return t.abrupt("return",t.sent);case 18:if(t.prev=18,t.t0=t.catch(11),!(u=t.t0.response.data.error.message).includes("Duplicate camp")){t.next=23;break}return t.abrupt("return",u.split("ID: "));case 23:throw console.error("API Error:",t.t0.stack),Array.isArray(u)?u:[u];case 25:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(e){return t.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Inside Login",t),e.next=3,this.request("auth/token",t,"post");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return n=e.sent,e.abrupt("return",n.data.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Inside getCurrentUser",t),e.next=3,this.request("users/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.user);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUserInfo",value:function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t),n,"patch");case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addCamp",value:function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Inside add Camps",t),e.next=3,this.request("camps",t,"post");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCamp",value:function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Inside get camp function:",t),e.next=3,this.request("camps/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reserve",value:function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Inside reserve camp function"),console.log("User ID:",t,"Camp_ID:",n),e.next=4,this.request("users/".concat(t,"/camps/").concat(n),{},"post");case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeReservation",value:function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Inside removal function",t,n),e.next=3,this.request("users/".concat(t,"/camps/").concat(n,"/remove"),{},"delete");case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.default=o}},[[366,1,2]]]);
//# sourceMappingURL=main.65828194.chunk.js.map